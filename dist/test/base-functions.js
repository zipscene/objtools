"use strict";

var expect = require("chai").expect;
var objtools = require("../lib");

describe("Base Functions", function () {

	describe("isScalar()", function () {

		it("should return true for scalar values", function (done) {
			expect(objtools.isScalar(true)).to.be.true;
			expect(objtools.isScalar(false)).to.be.true;
			expect(objtools.isScalar(new Date())).to.be.true;
			expect(objtools.isScalar(123)).to.be.true;
			expect(objtools.isScalar(null)).to.be.true;
			expect(objtools.isScalar(undefined)).to.be.true;
			expect(objtools.isScalar(function () {})).to.be.true;
			done();
		});

		it("should return false for non-scalar values", function (done) {
			expect(objtools.isScalar({})).to.be.false;
			expect(objtools.isScalar([])).to.be.false;
			expect(objtools.isScalar(new Error())).to.be.false;
			done();
		});
	});

	describe("scalarEquals", function () {

		var date1 = new Date("2014-01-01T00:00:00Z");
		var date2 = new Date("2014-01-01T00:00:00Z");
		var date3 = new Date("2014-01-01T00:00:01Z");

		it("should handle dates", function (done) {
			expect(objtools.scalarEquals(date1, date2)).to.be.true;
			expect(objtools.scalarEquals(date2, date3)).to.be.false;
			done();
		});

		it("should handle other types", function (done) {
			var func = function () {};
			var obj = {};
			expect(objtools.scalarEquals(2, 2)).to.be.true;
			expect(objtools.scalarEquals(true, true)).to.be.true;
			expect(objtools.scalarEquals(null, null)).to.be.true;
			expect(objtools.scalarEquals(undefined, undefined)).to.be.true;
			expect(objtools.scalarEquals(0, null)).to.be.false;
			expect(objtools.scalarEquals(obj, obj)).to.be.true;
			expect(objtools.scalarEquals(func, func)).to.be.true;
			expect(objtools.scalarEquals(obj, func)).to.be.false;
			expect(objtools.scalarEquals({}, {})).to.be.false;
			done();
		});
	});

	describe("deepEquals()", function () {

		var date1 = new Date("2014-01-01T00:00:00Z");
		var date2 = new Date("2014-01-01T00:00:00Z");
		var date3 = new Date("2014-01-01T00:00:01Z");

		var obj1 = {
			foo: {
				bar: "baz",
				biz: [1, 2]
			}
		};
		var obj2 = {
			foo: {
				bar: "baz",
				biz: [1, 2]
			}
		};
		var obj3 = {
			foo: {
				bar: "biz"
			},
			biz: [1, 2]
		};
		var obj4 = {
			foo: {
				bar: "biz"
			},
			biz: [1]
		};

		it("should handle dates correctly", function (done) {
			expect(objtools.deepEquals(date1, date2)).to.be.true;
			expect(objtools.deepEquals(date2, date3)).to.be.false;
			expect(objtools.deepEquals({ d: date1 }, { d: date2 })).to.be.true;
			done();
		});

		it("should handle objects correctly", function (done) {
			expect(objtools.deepEquals(obj1, obj2)).to.be.true;
			expect(objtools.deepEquals(obj2, obj3)).to.be.false;
			expect(objtools.deepEquals(obj3, obj4)).to.be.false;
			done();
		});

		it("should not coerce types", function (done) {
			expect(objtools.deepEquals({ a: null }, { a: null })).to.be.true;
			expect(objtools.deepEquals({ a: undefined }, { a: undefined })).to.be.true;
			expect(objtools.deepEquals({ a: null }, { a: undefined })).to.be.false;
			expect(objtools.deepEquals({ a: 0 }, { a: null })).to.be.false;
			done();
		});
	});

	describe("deepCopy()", function () {

		var obj1 = {
			foo: "bar",
			fuzz: 123,
			biz: {
				dat: new Date("2014-01-01T00:00:00Z"),
				n: null,
				u: undefined
			},
			arr: [1, 2]
		};

		it("should correctly copy objects", function (done) {
			var copy = objtools.deepCopy(obj1);
			expect(copy).to.deep.equal(obj1);
			expect(null).to.not.deep.equal(undefined); // make sure chai does what we want it to
			done();
		});

		it("should not maintain references to objects", function (done) {
			var copy = objtools.deepCopy(obj1);
			expect(copy).to.deep.equal(obj1);
			copy.biz.dat = 123;
			expect(copy).to.not.deep.equal(obj1);
			done();
		});
	});

	describe("collapseToDotted()", function () {

		var obj1 = {
			foo: 123,
			bar: {
				biz: 12,
				baz: {
					buz: 1
				}
			},
			arr: [1, 2, {
				foo: 3
			}]
		};

		it("should correctly collapse objects to dotted form", function (done) {
			var dotted = objtools.collapseToDotted(obj1);
			expect(dotted).to.deep.equal({
				foo: 123,
				"bar.biz": 12,
				"bar.baz.buz": 1,
				"arr.0": 1,
				"arr.1": 2,
				"arr.2.foo": 3
			});
			done();
		});

		it("should obey includeRedundantLevels", function (done) {
			var dotted = objtools.collapseToDotted(obj1, true);
			expect(dotted).to.deep.equal({
				foo: 123,
				bar: obj1.bar,
				"bar.biz": 12,
				"bar.baz": obj1.bar.baz,
				"bar.baz.buz": 1,
				"arr": obj1.arr,
				"arr.0": 1,
				"arr.1": 2,
				"arr.2.foo": 3,
				"arr.2": obj1.arr[2]
			});
			// check for referential equality
			expect(dotted.bar).to.equal(obj1.bar);
			expect(dotted.bar.baz).to.equal(obj1.bar.baz);
			done();
		});

		it("should obey stopAtArrays", function (done) {
			var dotted = objtools.collapseToDotted(obj1, false, true);
			expect(dotted).to.deep.equal({
				foo: 123,
				"bar.biz": 12,
				"bar.baz.buz": 1,
				"arr": obj1.arr
			});
			expect(dotted.arr).to.equal(obj1.arr);
			done();
		});
	});

	describe("match functions", function () {

		it("matchObject()", function (done) {
			expect(objtools.matchObject({
				foo: "foo",
				bar: {
					biz: 12
				},
				zip: [4, 5]
			}, {
				foo: "foo",
				"bar.biz": 12,
				"zip.1": 5
			})).to.be.true;
			expect(objtools.matchObject({
				foo: "foo",
				bar: {
					biz: 12
				},
				zip: [4, 5]
			}, {
				foo: "foo",
				"bar.biz": 12,
				"zip.2": 5
			})).to.be.false;
			done();
		});

		it("matchDottedObject()", function (done) {
			expect(objtools.matchDottedObject({
				foo: "foo",
				bar: {
					biz: 12
				},
				zip: [4, 5]
			}, {
				foo: "foo",
				"bar": {
					biz: 12
				},
				"zip": [4, 5]
			})).to.be.true;
			expect(objtools.matchDottedObject({
				foo: "foo",
				bar: {
					biz: 12
				},
				zip: [4, 5]
			}, {
				foo: "foo",
				"bar": {
					biz: 12
				},
				"zip": [4, 2]
			})).to.be.false;
			done();
		});
	});

	describe("path functions", function () {

		var obj1 = {
			foo: "bar",
			baz: {
				biz: "buz",
				arr: [1, 2, {
					zip: 3
				}],
				arr2: [{
					zip: 4
				}]
			}
		};

		var getPath = objtools.getPath;
		var deletePath = objtools.deletePath;
		var setPath = objtools.setPath;

		it("getPath should fetch basic object paths", function (done) {
			expect(getPath(obj1, "foo")).equals(obj1.foo);
			expect(getPath(obj1, "baz")).equals(obj1.baz);
			expect(getPath(obj1, "baz.biz")).equals(obj1.baz.biz);
			expect(getPath(obj1, "baz.arr2.zip")).equals(undefined);
			expect(getPath(obj1, "baz.arr.1")).equals(2);
			expect(getPath(obj1, "baz.arr.2.zip")).equals(3);
			done();
		});

		it("getPath should obey allowSkipArrays", function (done) {
			expect(getPath(obj1, "foo", true)).equals(obj1.foo);
			expect(getPath(obj1, "baz", true)).equals(obj1.baz);
			expect(getPath(obj1, "baz.biz", true)).equals(obj1.baz.biz);
			expect(getPath(obj1, "baz.arr2.zip", true)).equals(4);
			expect(getPath(obj1, "baz.arr.1", true)).equals(2);
			expect(getPath(obj1, "baz.arr.2.zip", true)).equals(3);
			done();
		});

		it("getPath should handle root path", function (done) {
			expect(getPath(obj1, null)).to.deep.equal(obj1);
			done();
		});

		it("setPath should set various paths", function (done) {
			setPath(obj1, "foo", "biz");
			expect(obj1.foo).to.equal("biz");
			setPath(obj1, "baz.arr.1", 8);
			expect(obj1.baz.arr[1]).to.equal(8);
			done();
		});

		it("setPath should create parent objects as necessary", function (done) {
			setPath(obj1, "bar.biz.baz.buz", 10);
			expect(obj1.bar).to.deep.equal({ biz: { baz: { buz: 10 } } });
			done();
		});

		it("setPath should overwrite parent object on conflicting type", function (done) {
			setPath(obj1, "baz.arr.1.buz", 11);
			expect(obj1.baz.arr[1]).to.deep.equal({ buz: 11 });
			done();
		});

		it("deletePath should delete paths", function (done) {
			deletePath(obj1, "baz.arr");
			expect(obj1.baz.arr).to.equal(undefined);
			done();
		});
	});
});
//# sourceMappingURL=data:application/json;base64,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SSxFQUFFO0FBQzlDLE9BQUksSUFBSSxHQUFHLFlBQVcsRUFBRSxDQUFDO0FBQ3pCLE9BQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQy9DLFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ3JELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ3JELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQy9ELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ25ELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ25ELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ3JELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ3JELFNBQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2xELE9BQUksRUFBRSxDQUFDO0dBQ1AsQ0FBQyxDQUFDO0VBRUgsQ0FBQyxDQUFDOztBQUVILFNBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBVzs7QUFFbkMsTUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUM3QyxNQUFJLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQzdDLE1BQUksS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7O0FBRTdDLE1BQUksSUFBSSxHQUFHO0FBQ1YsTUFBRyxFQUFFO0FBQ0osT0FBRyxFQUFFLEtBQUs7QUFDVixPQUFHLEVBQUUsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFO0lBQ2I7R0FDRCxDQUFDO0FBQ0YsTUFBSSxJQUFJLEdBQUc7QUFDVixNQUFHLEVBQUU7QUFDSixPQUFHLEVBQUUsS0FBSztBQUNWLE9BQUcsRUFBRSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUU7SUFDYjtHQUNELENBQUM7QUFDRixNQUFJLElBQUksR0FBRztBQUNWLE1BQUcsRUFBRTtBQUNKLE9BQUcsRUFBRSxLQUFLO0lBQ1Y7QUFDRCxNQUFHLEVBQUUsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFO0dBQ2IsQ0FBQztBQUNGLE1BQUksSUFBSSxHQUFHO0FBQ1YsTUFBRyxFQUFFO0FBQ0osT0FBRyxFQUFFLEtBQUs7SUFDVjtBQUNELE1BQUcsRUFBRSxDQUFFLENBQUMsQ0FBRTtHQUNWLENBQUM7O0FBRUYsSUFBRSxDQUFDLCtCQUErQixFQUFFLFVBQVMsSUFBSSxFQUFFO0FBQ2xELFNBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ3JELFNBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ3RELFNBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztBQUNuRSxPQUFJLEVBQUUsQ0FBQztHQUNQLENBQUMsQ0FBQzs7QUFFSCxJQUFFLENBQUMsaUNBQWlDLEVBQUUsVUFBUyxJQUFJLEVBQUU7QUFDcEQsU0FBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFDbkQsU0FBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEQsU0FBTSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDcEQsT0FBSSxFQUFFLENBQUM7R0FDUCxDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLHlCQUF5QixFQUFFLFVBQVMsSUFBSSxFQUFFO0FBQzVDLFNBQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztBQUNqRSxTQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7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LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cGVjdCA9IHJlcXVpcmUoJ2NoYWknKS5leHBlY3Q7XG52YXIgb2JqdG9vbHMgPSByZXF1aXJlKCcuLi9saWInKTtcblxuZGVzY3JpYmUoJ0Jhc2UgRnVuY3Rpb25zJywgZnVuY3Rpb24oKSB7XG5cblx0ZGVzY3JpYmUoJ2lzU2NhbGFyKCknLCBmdW5jdGlvbigpIHtcblxuXHRcdGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIHNjYWxhciB2YWx1ZXMnLCBmdW5jdGlvbihkb25lKSB7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuaXNTY2FsYXIodHJ1ZSkpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuaXNTY2FsYXIoZmFsc2UpKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmlzU2NhbGFyKG5ldyBEYXRlKCkpKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmlzU2NhbGFyKDEyMykpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuaXNTY2FsYXIobnVsbCkpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuaXNTY2FsYXIodW5kZWZpbmVkKSkudG8uYmUudHJ1ZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5pc1NjYWxhcihmdW5jdGlvbigpIHt9KSkudG8uYmUudHJ1ZTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGZvciBub24tc2NhbGFyIHZhbHVlcycsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdGV4cGVjdChvYmp0b29scy5pc1NjYWxhcih7fSkpLnRvLmJlLmZhbHNlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmlzU2NhbGFyKFtdKSkudG8uYmUuZmFsc2U7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuaXNTY2FsYXIobmV3IEVycm9yKCkpKS50by5iZS5mYWxzZTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHR9KTtcblxuXHRkZXNjcmliZSgnc2NhbGFyRXF1YWxzJywgZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgZGF0ZTEgPSBuZXcgRGF0ZSgnMjAxNC0wMS0wMVQwMDowMDowMFonKTtcblx0XHR2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgnMjAxNC0wMS0wMVQwMDowMDowMFonKTtcblx0XHR2YXIgZGF0ZTMgPSBuZXcgRGF0ZSgnMjAxNC0wMS0wMVQwMDowMDowMVonKTtcblxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIGRhdGVzJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLnNjYWxhckVxdWFscyhkYXRlMSwgZGF0ZTIpKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLnNjYWxhckVxdWFscyhkYXRlMiwgZGF0ZTMpKS50by5iZS5mYWxzZTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIG90aGVyIHR5cGVzJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0dmFyIGZ1bmMgPSBmdW5jdGlvbigpIHt9O1xuXHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLnNjYWxhckVxdWFscygyLCAyKSkudG8uYmUudHJ1ZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5zY2FsYXJFcXVhbHModHJ1ZSwgdHJ1ZSkpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuc2NhbGFyRXF1YWxzKG51bGwsIG51bGwpKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLnNjYWxhckVxdWFscyh1bmRlZmluZWQsIHVuZGVmaW5lZCkpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuc2NhbGFyRXF1YWxzKDAsIG51bGwpKS50by5iZS5mYWxzZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5zY2FsYXJFcXVhbHMob2JqLCBvYmopKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLnNjYWxhckVxdWFscyhmdW5jLCBmdW5jKSkudG8uYmUudHJ1ZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5zY2FsYXJFcXVhbHMob2JqLCBmdW5jKSkudG8uYmUuZmFsc2U7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuc2NhbGFyRXF1YWxzKHt9LCB7fSkpLnRvLmJlLmZhbHNlO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG5cdGRlc2NyaWJlKCdkZWVwRXF1YWxzKCknLCBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBkYXRlMSA9IG5ldyBEYXRlKCcyMDE0LTAxLTAxVDAwOjAwOjAwWicpO1xuXHRcdHZhciBkYXRlMiA9IG5ldyBEYXRlKCcyMDE0LTAxLTAxVDAwOjAwOjAwWicpO1xuXHRcdHZhciBkYXRlMyA9IG5ldyBEYXRlKCcyMDE0LTAxLTAxVDAwOjAwOjAxWicpO1xuXG5cdFx0dmFyIG9iajEgPSB7XG5cdFx0XHRmb286IHtcblx0XHRcdFx0YmFyOiAnYmF6Jyxcblx0XHRcdFx0Yml6OiBbIDEsIDIgXVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0dmFyIG9iajIgPSB7XG5cdFx0XHRmb286IHtcblx0XHRcdFx0YmFyOiAnYmF6Jyxcblx0XHRcdFx0Yml6OiBbIDEsIDIgXVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0dmFyIG9iajMgPSB7XG5cdFx0XHRmb286IHtcblx0XHRcdFx0YmFyOiAnYml6J1xuXHRcdFx0fSxcblx0XHRcdGJpejogWyAxLCAyIF1cblx0XHR9O1xuXHRcdHZhciBvYmo0ID0ge1xuXHRcdFx0Zm9vOiB7XG5cdFx0XHRcdGJhcjogJ2Jpeidcblx0XHRcdH0sXG5cdFx0XHRiaXo6IFsgMSBdXG5cdFx0fTtcblxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIGRhdGVzIGNvcnJlY3RseScsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdGV4cGVjdChvYmp0b29scy5kZWVwRXF1YWxzKGRhdGUxLCBkYXRlMikpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuZGVlcEVxdWFscyhkYXRlMiwgZGF0ZTMpKS50by5iZS5mYWxzZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5kZWVwRXF1YWxzKHsgZDogZGF0ZTEgfSwgeyBkOiBkYXRlMiB9KSkudG8uYmUudHJ1ZTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgaGFuZGxlIG9iamVjdHMgY29ycmVjdGx5JywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmRlZXBFcXVhbHMob2JqMSwgb2JqMikpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuZGVlcEVxdWFscyhvYmoyLCBvYmozKSkudG8uYmUuZmFsc2U7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuZGVlcEVxdWFscyhvYmozLCBvYmo0KSkudG8uYmUuZmFsc2U7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2hvdWxkIG5vdCBjb2VyY2UgdHlwZXMnLCBmdW5jdGlvbihkb25lKSB7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuZGVlcEVxdWFscyh7IGE6IG51bGwgfSwgeyBhOiBudWxsIH0pKS50by5iZS50cnVlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmRlZXBFcXVhbHMoeyBhOiB1bmRlZmluZWQgfSwgeyBhOiB1bmRlZmluZWQgfSkpLnRvLmJlLnRydWU7XG5cdFx0XHRleHBlY3Qob2JqdG9vbHMuZGVlcEVxdWFscyh7IGE6IG51bGwgfSwgeyBhOiB1bmRlZmluZWQgfSkpLnRvLmJlLmZhbHNlO1xuXHRcdFx0ZXhwZWN0KG9ianRvb2xzLmRlZXBFcXVhbHMoeyBhOiAwIH0sIHsgYTogbnVsbCB9KSkudG8uYmUuZmFsc2U7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0fSk7XG5cblx0ZGVzY3JpYmUoJ2RlZXBDb3B5KCknLCBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBvYmoxID0ge1xuXHRcdFx0Zm9vOiAnYmFyJyxcblx0XHRcdGZ1eno6IDEyMyxcblx0XHRcdGJpejoge1xuXHRcdFx0XHRkYXQ6IG5ldyBEYXRlKCcyMDE0LTAxLTAxVDAwOjAwOjAwWicpLFxuXHRcdFx0XHRuOiBudWxsLFxuXHRcdFx0XHR1OiB1bmRlZmluZWRcblx0XHRcdH0sXG5cdFx0XHRhcnI6IFsgMSwgMiBdXG5cdFx0fTtcblxuXHRcdGl0KCdzaG91bGQgY29ycmVjdGx5IGNvcHkgb2JqZWN0cycsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdHZhciBjb3B5ID0gb2JqdG9vbHMuZGVlcENvcHkob2JqMSk7XG5cdFx0XHRleHBlY3QoY29weSkudG8uZGVlcC5lcXVhbChvYmoxKTtcblx0XHRcdGV4cGVjdChudWxsKS50by5ub3QuZGVlcC5lcXVhbCh1bmRlZmluZWQpO1x0Ly8gbWFrZSBzdXJlIGNoYWkgZG9lcyB3aGF0IHdlIHdhbnQgaXQgdG9cblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgbm90IG1haW50YWluIHJlZmVyZW5jZXMgdG8gb2JqZWN0cycsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdHZhciBjb3B5ID0gb2JqdG9vbHMuZGVlcENvcHkob2JqMSk7XG5cdFx0XHRleHBlY3QoY29weSkudG8uZGVlcC5lcXVhbChvYmoxKTtcblx0XHRcdGNvcHkuYml6LmRhdCA9IDEyMztcblx0XHRcdGV4cGVjdChjb3B5KS50by5ub3QuZGVlcC5lcXVhbChvYmoxKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHR9KTtcblxuXHRkZXNjcmliZSgnY29sbGFwc2VUb0RvdHRlZCgpJywgZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgb2JqMSA9IHtcblx0XHRcdGZvbzogMTIzLFxuXHRcdFx0YmFyOiB7XG5cdFx0XHRcdGJpejogMTIsXG5cdFx0XHRcdGJhejoge1xuXHRcdFx0XHRcdGJ1ejogMVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YXJyOiBbXG5cdFx0XHRcdDEsXG5cdFx0XHRcdDIsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmb286IDNcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH07XG5cblx0XHRpdCgnc2hvdWxkIGNvcnJlY3RseSBjb2xsYXBzZSBvYmplY3RzIHRvIGRvdHRlZCBmb3JtJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0dmFyIGRvdHRlZCA9IG9ianRvb2xzLmNvbGxhcHNlVG9Eb3R0ZWQob2JqMSk7XG5cdFx0XHRleHBlY3QoZG90dGVkKS50by5kZWVwLmVxdWFsKHtcblx0XHRcdFx0Zm9vOiAxMjMsXG5cdFx0XHRcdCdiYXIuYml6JzogMTIsXG5cdFx0XHRcdCdiYXIuYmF6LmJ1eic6IDEsXG5cdFx0XHRcdCdhcnIuMCc6IDEsXG5cdFx0XHRcdCdhcnIuMSc6IDIsXG5cdFx0XHRcdCdhcnIuMi5mb28nOiAzXG5cdFx0XHR9KTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdzaG91bGQgb2JleSBpbmNsdWRlUmVkdW5kYW50TGV2ZWxzJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0dmFyIGRvdHRlZCA9IG9ianRvb2xzLmNvbGxhcHNlVG9Eb3R0ZWQob2JqMSwgdHJ1ZSk7XG5cdFx0XHRleHBlY3QoZG90dGVkKS50by5kZWVwLmVxdWFsKHtcblx0XHRcdFx0Zm9vOiAxMjMsXG5cdFx0XHRcdGJhcjogb2JqMS5iYXIsXG5cdFx0XHRcdCdiYXIuYml6JzogMTIsXG5cdFx0XHRcdCdiYXIuYmF6Jzogb2JqMS5iYXIuYmF6LFxuXHRcdFx0XHQnYmFyLmJhei5idXonOiAxLFxuXHRcdFx0XHQnYXJyJzogb2JqMS5hcnIsXG5cdFx0XHRcdCdhcnIuMCc6IDEsXG5cdFx0XHRcdCdhcnIuMSc6IDIsXG5cdFx0XHRcdCdhcnIuMi5mb28nOiAzLFxuXHRcdFx0XHQnYXJyLjInOiBvYmoxLmFyclsyXVxuXHRcdFx0fSk7XG5cdFx0XHQvLyBjaGVjayBmb3IgcmVmZXJlbnRpYWwgZXF1YWxpdHlcblx0XHRcdGV4cGVjdChkb3R0ZWQuYmFyKS50by5lcXVhbChvYmoxLmJhcik7XG5cdFx0XHRleHBlY3QoZG90dGVkLmJhci5iYXopLnRvLmVxdWFsKG9iajEuYmFyLmJheik7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2hvdWxkIG9iZXkgc3RvcEF0QXJyYXlzJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0dmFyIGRvdHRlZCA9IG9ianRvb2xzLmNvbGxhcHNlVG9Eb3R0ZWQob2JqMSwgZmFsc2UsIHRydWUpO1xuXHRcdFx0ZXhwZWN0KGRvdHRlZCkudG8uZGVlcC5lcXVhbCh7XG5cdFx0XHRcdGZvbzogMTIzLFxuXHRcdFx0XHQnYmFyLmJpeic6IDEyLFxuXHRcdFx0XHQnYmFyLmJhei5idXonOiAxLFxuXHRcdFx0XHQnYXJyJzogb2JqMS5hcnJcblx0XHRcdH0pO1xuXHRcdFx0ZXhwZWN0KGRvdHRlZC5hcnIpLnRvLmVxdWFsKG9iajEuYXJyKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHR9KTtcblxuXHRkZXNjcmliZSgnbWF0Y2ggZnVuY3Rpb25zJywgZnVuY3Rpb24oKSB7XG5cblx0XHRpdCgnbWF0Y2hPYmplY3QoKScsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdGV4cGVjdChvYmp0b29scy5tYXRjaE9iamVjdCh7XG5cdFx0XHRcdGZvbzogJ2ZvbycsXG5cdFx0XHRcdGJhcjoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0emlwOiBbIDQsIDUgXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmb286ICdmb28nLFxuXHRcdFx0XHQnYmFyLmJpeic6IDEyLFxuXHRcdFx0XHQnemlwLjEnOiA1XG5cdFx0XHR9KSkudG8uYmUudHJ1ZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5tYXRjaE9iamVjdCh7XG5cdFx0XHRcdGZvbzogJ2ZvbycsXG5cdFx0XHRcdGJhcjoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0emlwOiBbIDQsIDUgXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmb286ICdmb28nLFxuXHRcdFx0XHQnYmFyLmJpeic6IDEyLFxuXHRcdFx0XHQnemlwLjInOiA1XG5cdFx0XHR9KSkudG8uYmUuZmFsc2U7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnbWF0Y2hEb3R0ZWRPYmplY3QoKScsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdGV4cGVjdChvYmp0b29scy5tYXRjaERvdHRlZE9iamVjdCh7XG5cdFx0XHRcdGZvbzogJ2ZvbycsXG5cdFx0XHRcdGJhcjoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0emlwOiBbIDQsIDUgXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmb286ICdmb28nLFxuXHRcdFx0XHQnYmFyJzoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0J3ppcCc6IFsgNCwgNSBdXG5cdFx0XHR9KSkudG8uYmUudHJ1ZTtcblx0XHRcdGV4cGVjdChvYmp0b29scy5tYXRjaERvdHRlZE9iamVjdCh7XG5cdFx0XHRcdGZvbzogJ2ZvbycsXG5cdFx0XHRcdGJhcjoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0emlwOiBbIDQsIDUgXVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmb286ICdmb28nLFxuXHRcdFx0XHQnYmFyJzoge1xuXHRcdFx0XHRcdGJpejogMTJcblx0XHRcdFx0fSxcblx0XHRcdFx0J3ppcCc6IFsgNCwgMiBdXG5cdFx0XHR9KSkudG8uYmUuZmFsc2U7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0fSk7XG5cblx0ZGVzY3JpYmUoJ3BhdGggZnVuY3Rpb25zJywgZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgb2JqMSA9IHtcblx0XHRcdGZvbzogJ2JhcicsXG5cdFx0XHRiYXo6IHtcblx0XHRcdFx0Yml6OiAnYnV6Jyxcblx0XHRcdFx0YXJyOiBbXG5cdFx0XHRcdFx0MSxcblx0XHRcdFx0XHQyLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHppcDogM1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XSxcblx0XHRcdFx0YXJyMjogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHppcDogNFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZ2V0UGF0aCA9IG9ianRvb2xzLmdldFBhdGg7XG5cdFx0dmFyIGRlbGV0ZVBhdGggPSBvYmp0b29scy5kZWxldGVQYXRoO1xuXHRcdHZhciBzZXRQYXRoID0gb2JqdG9vbHMuc2V0UGF0aDtcblxuXHRcdGl0KCdnZXRQYXRoIHNob3VsZCBmZXRjaCBiYXNpYyBvYmplY3QgcGF0aHMnLCBmdW5jdGlvbihkb25lKSB7XG5cdFx0XHRleHBlY3QoZ2V0UGF0aChvYmoxLCAnZm9vJykpLmVxdWFscyhvYmoxLmZvbyk7XG5cdFx0XHRleHBlY3QoZ2V0UGF0aChvYmoxLCAnYmF6JykpLmVxdWFscyhvYmoxLmJheik7XG5cdFx0XHRleHBlY3QoZ2V0UGF0aChvYmoxLCAnYmF6LmJpeicpKS5lcXVhbHMob2JqMS5iYXouYml6KTtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdiYXouYXJyMi56aXAnKSkuZXF1YWxzKHVuZGVmaW5lZCk7XG5cdFx0XHRleHBlY3QoZ2V0UGF0aChvYmoxLCAnYmF6LmFyci4xJykpLmVxdWFscygyKTtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdiYXouYXJyLjIuemlwJykpLmVxdWFscygzKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdnZXRQYXRoIHNob3VsZCBvYmV5IGFsbG93U2tpcEFycmF5cycsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdmb28nLCB0cnVlKSkuZXF1YWxzKG9iajEuZm9vKTtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdiYXonLCB0cnVlKSkuZXF1YWxzKG9iajEuYmF6KTtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdiYXouYml6JywgdHJ1ZSkpLmVxdWFscyhvYmoxLmJhei5iaXopO1xuXHRcdFx0ZXhwZWN0KGdldFBhdGgob2JqMSwgJ2Jhei5hcnIyLnppcCcsIHRydWUpKS5lcXVhbHMoNCk7XG5cdFx0XHRleHBlY3QoZ2V0UGF0aChvYmoxLCAnYmF6LmFyci4xJywgdHJ1ZSkpLmVxdWFscygyKTtcblx0XHRcdGV4cGVjdChnZXRQYXRoKG9iajEsICdiYXouYXJyLjIuemlwJywgdHJ1ZSkpLmVxdWFscygzKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdnZXRQYXRoIHNob3VsZCBoYW5kbGUgcm9vdCBwYXRoJywgZnVuY3Rpb24oZG9uZSkge1xuXHRcdFx0ZXhwZWN0KGdldFBhdGgob2JqMSwgbnVsbCkpLnRvLmRlZXAuZXF1YWwob2JqMSk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2V0UGF0aCBzaG91bGQgc2V0IHZhcmlvdXMgcGF0aHMnLCBmdW5jdGlvbihkb25lKSB7XG5cdFx0XHRzZXRQYXRoKG9iajEsICdmb28nLCAnYml6Jyk7XG5cdFx0XHRleHBlY3Qob2JqMS5mb28pLnRvLmVxdWFsKCdiaXonKTtcblx0XHRcdHNldFBhdGgob2JqMSwgJ2Jhei5hcnIuMScsIDgpO1xuXHRcdFx0ZXhwZWN0KG9iajEuYmF6LmFyclsxXSkudG8uZXF1YWwoOCk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2V0UGF0aCBzaG91bGQgY3JlYXRlIHBhcmVudCBvYmplY3RzIGFzIG5lY2Vzc2FyeScsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdHNldFBhdGgob2JqMSwgJ2Jhci5iaXouYmF6LmJ1eicsIDEwKTtcblx0XHRcdGV4cGVjdChvYmoxLmJhcikudG8uZGVlcC5lcXVhbCh7IGJpejogeyBiYXo6IHsgYnV6OiAxMCB9IH0gfSk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0XHRpdCgnc2V0UGF0aCBzaG91bGQgb3ZlcndyaXRlIHBhcmVudCBvYmplY3Qgb24gY29uZmxpY3RpbmcgdHlwZScsIGZ1bmN0aW9uKGRvbmUpIHtcblx0XHRcdHNldFBhdGgob2JqMSwgJ2Jhei5hcnIuMS5idXonLCAxMSk7XG5cdFx0XHRleHBlY3Qob2JqMS5iYXouYXJyWzFdKS50by5kZWVwLmVxdWFsKHsgYnV6OiAxMSB9KTtcblx0XHRcdGRvbmUoKTtcblx0XHR9KTtcblxuXHRcdGl0KCdkZWxldGVQYXRoIHNob3VsZCBkZWxldGUgcGF0aHMnLCBmdW5jdGlvbihkb25lKSB7XG5cdFx0XHRkZWxldGVQYXRoKG9iajEsICdiYXouYXJyJyk7XG5cdFx0XHRleHBlY3Qob2JqMS5iYXouYXJyKS50by5lcXVhbCh1bmRlZmluZWQpO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG59KTtcblxuXG4iXX0=